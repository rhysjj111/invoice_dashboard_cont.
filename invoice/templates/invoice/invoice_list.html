{% extends "base_dashboard.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block css %}
{{ block.super }}
    <link rel="stylesheet" href="{% static 'invoice/css/invoice.css' %}">
{% endblock %}

<!-- BROWSER TITLE  -->
{% block page_title %}Invoice list{% endblock %}Invoices{% block page_heading %}invoice #12345{% endblock %}


<!-- SIDE MENU ITEMS -->
{% block side_menu_action_items %}
    <a type="button" data-bs-toggle="modal" data-bs-target="#invoice_modal" class="btn side-menu-link text-white"><i class="bi bi-patch-plus"></i> <span>Add invoice</span></a>
{% endblock side_menu_action_items %}

{% block side_menu_nav_items %}
    <a href="{% url 'customer_list' %}" class="btn side-menu-link text-white"><i class="bi bi-box-arrow-right"></i><span>Customers</span></a>     
{% endblock side_menu_nav_items %}
 
<!-- MOBILE MENU ITEMS  -->
{% block mobile_menu_action_items %}
    <li><a type="button" data-bs-toggle="modal" data-bs-target="#invoice_modal" class="btn side-menu-link text-white"><i class="bi bi-patch-plus"></i> <span>Add invoice</span></a></li>
{% endblock mobile_menu_action_items %}

{% block mobile_menu_nav_items %}
    <li><a class="dropdown-item mobile-side-menu-link" href="#"><i class="bi bi-box-arrow-right"></i><span>Customers</span></a></li>
{% endblock mobile_menu_nav_items %}


<!-- FILTER AND SEARCH BAR -->
{% block filter_search %}
    <div class="col-7 d-none d-lg-block mb-4">
        <ul class="nav nav-pills nav-fill">
            
            <li class="nav-item">
                <a class="nav-link" aria-current="page" href="#">Active</a>
            </li>
            {% if user.groups.first == 'Mechanic' %} 
            <li class="nav-item">
                <a class="nav-link" href="{% url 'invoice_list' %}">Pending</a>
            </li>
            {% endif %}
            <li class="nav-item">
                <a class="nav-link active" href="{% url 'invoice_list' %}">Inactive</a>
            </li>      
        </ul>
    </div>
    <div class="col-lg-5 d-none d-lg-block ">
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Search" aria-label="Search"
                aria-describedby="button-addon2">
            <button class="btn btn-outline-secondary" type="submit" id="button-addon2"><i class="bi bi-search"></i></button>
        </div>
    </div>
{% endblock %}

<!-- CONTENT -->
{% block dashboard_content %}
{% crispy create_invoice_form %}
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
    <table class="table table-hover align-middle">
        <tbody>
            {% for invoice in invoices %}
            <tr>
                <!-- mobile first column  -->
                <th class="d-lg-none" scope="row"><a href="{% url 'index' %}"></a></th>
                <!-- desktop columns  -->
                <th scope="row " class="d-none d-lg-table-cell"><a href="{% url 'invoice' invoice.slug %}">{{invoice.vehicle.registration}}{{invoice.status.display}}</a></th>
                <td class="d-none d-lg-table-cell">{{invoice.customer.name}}</td>
                <!-- column on all devices -->
                <td>
                    <select class="form-select" aria-label="Default select example">
                        <option selected></option>
                        <option value="1"></option>
                        <option value="2">Two</option>
                        <option value="3">Three</option>
                    </select>
                </td>
            </tr>
            {% endfor %}

            <tr class="table-primary">
                <th class="d-lg-none" scope="row"><a href="{% url 'index' %}">Registration & Customer</a></th>
                <th scope="row" class="d-none d-lg-table-cell">Primary</th>
                <td class="d-none d-lg-table-cell">Column content</td>
                <td>Column content</td>
            </tr>

            <tr class="table-success">
                <th class="d-lg-none" scope="row"><a href="{% url 'index' %}">Registration & Customer</a></th>
                <th scope="row" class="d-none d-lg-table-cell">Success</th>
                <td class="d-none d-lg-table-cell">Column content</td>
                <td>Column content</td>
            </tr>

            <tr class="table-warning">
                <th class="d-lg-none" scope="row"><a href="{% url 'index' %}">Registration & Customer</a></th>
                <th scope="row" class="d-none d-lg-table-cell">Warning</th>
                <td class="d-none d-lg-table-cell">Column content</td>
                <td>Column content</td>
            </tr>
        </tbody>
    </table>
{% endblock %}